@startuml
!theme mars
skinparam classFontName Courier New
skinparam classFontSize 12
struct Pool {
    Lending Pool
    ==abilities==
    Key
    ==members==
    +<b>id:</b> UID (Unique id of the Pool),
    +<b>admin_address:</b> address (Public address of the admin wallet),
    +<b>submarket_ids:</b> VecSet<ID> (Set of Submarket IDs owned by this Pool),
    +<b>borrow_record_ids:</b> vector<ID> (IDs of BorrowRecords under this market)
}


struct SubMarket <<T>> {
    Currency Specific Pool
    ==abilities==
    Key
    ==members==
    +<b>id:</b> UID (Unique ID of the SubMarket),
    +<b>balance:</b> Balance<T> (Balance Held by this Submarket),
    +<b>collaterals:</b> VecMap<address, ColData> (Map of collateral data by address)
}

struct ColData {
    Collateral state of an address in a specific SubMarket
    ==abilities==
    Store
    ==members==
    +<b>gross:</b> u64 Note "(total collateral deposited)"
    +<b>utilized:</b> u64 (utilized collateral amount)
}

struct BorrowRecord <<B>> <<C>> {
    Record of a borrow of B against collateral C
    ==abilities==
    Key
    ==members==
    +<b>id:</b> UID, (Unique BorrowRecord ID)
    +<b>borrower:</b> address, (Public address of borrower)
    +<b>col_amount:</b> u64, (collateral amount)
    +<b>bor_amount:</b> u64 (borrowed amount)
}

Pool --|> BorrowRecord : owns
Pool --|> SubMarket : owns
SubMarket --|> ColData : stores
@enduml
